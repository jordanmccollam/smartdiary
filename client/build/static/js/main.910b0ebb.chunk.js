(this.webpackJsonpsmartdiary=this.webpackJsonpsmartdiary||[]).push([[0],{239:function(e,t,l){},240:function(e,t,l){},241:function(e,t,l){},242:function(e,t,l){},421:function(e,t,l){"use strict";l.r(t);var a={};l.r(a),l.d(a,"Moods",(function(){return H}));var c={};l.r(c),l.d(c,"NewEntry",(function(){return w})),l.d(c,"Entry",(function(){return U})),l.d(c,"Entries",(function(){return G})),l.d(c,"Collapse",(function(){return K})),l.d(c,"ToolBar",(function(){return X})),l.d(c,"Mood",(function(){return Y})),l.d(c,"MoodEntry",(function(){return B}));var n={};l.r(n),l.d(n,"Main",(function(){return Q}));var o={};l.r(o),l.d(o,"Main",(function(){return q})),l.d(o,"Loading",(function(){return q}));var r=l(1),s=l(34),i=l.n(s),d=(l(238),l(239),l(240),l(241),l(242),l(98)),u=l(15),b=l(226),j=l(24),x=l(51),O=l(435),m=l(430),h=l(206),f=l(207),v=l(438),y=l(437),E=l(16),g=l.n(E),p=l(205),D=l.n(p).a.create({baseURL:"http://localhost:3000/api"}),N={createEntry:function(e){return D.post("/entry",e)},getEntries:function(){return D.get("/entries")},updateEntry:function(e,t){return D.put("/entry/".concat(e),t)},deleteEntry:function(e){return D.delete("/entry/".concat(e))},getEntry:function(e){return D.get("/entry/".concat(e))},createMood:function(e){return D.post("/mood",e)},getMoods:function(){return D.get("/mood")},updateMood:function(e,t){return D.put("/mood/".concat(e),t)},deleteMood:function(e){return D.delete("/mood/".concat(e))},getMood:function(e){return D.get("/mood/".concat(e))},getUser:function(e){return D.get("/user/".concat(e))},createUser:function(e){return D.post("/user",e)},updateUser:function(e,t){return D.put("/user/".concat(e),t)}},S=l(57),T=l(19),C=l(69),A=l(87),M=l(2),I=[[{color:"#fe0202",label:"ENRAGED",value:{x:0,y:9}},{color:"#ff2603",label:"PANICKED",value:{x:1,y:9}},{color:"#ff4403",label:"STRESSED",value:{x:2,y:9}},{color:"#ff5f03",label:"JITTERY",value:{x:3,y:9}},{color:"#ff7903",label:"SHOCKED",value:{x:4,y:9}},{color:"#ffb600",label:"SUPRISED",value:{x:5,y:9}},{color:"#ffb600",label:"UPBEAT",value:{x:6,y:9}},{color:"#fbce00",label:"FESTIVE",value:{x:7,y:9}},{color:"#f8db02",label:"EXHILERATED",value:{x:8,y:9}},{color:"#f6e701",label:"ECSTATIC",value:{x:9,y:9}}],[{color:"#ed0a0b",label:"LIVID",value:{x:0,y:8}},{color:"#ee280b",label:"FURIOUS",value:{x:1,y:8}},{color:"#ef3f0a",label:"FRUSTRATED",value:{x:2,y:8}},{color:"#ee540b",label:"TENSE",value:{x:3,y:8}},{color:"#ee6b0b",label:"STUNNED",value:{x:4,y:8}},{color:"#f9b805",label:"HYPER",value:{x:5,y:8}},{color:"#f7bf02",label:"CHEERFUL",value:{x:6,y:8}},{color:"#f5cb06",label:"MOTIVATED",value:{x:7,y:8}},{color:"#f3d405",label:"INSPIRED",value:{x:8,y:8}},{color:"#f2dd01",label:"ELATED",value:{x:9,y:8}}],[{color:"#de1214",label:"FUMING",value:{x:0,y:7}},{color:"#dd2812",label:"FRIGHTENED",value:{x:1,y:7}},{color:"#dd3913",label:"ANGRY",value:{x:2,y:7}},{color:"#de4912",label:"NERVOUS",value:{x:3,y:7}},{color:"#dd5b11",label:"RESTLESS",value:{x:4,y:7}},{color:"#f1b70c",label:"ENERGIZED",value:{x:5,y:7}},{color:"#f1be0c",label:"LIVELY",value:{x:6,y:7}},{color:"#efc60c",label:"ENTHUSIASTIC",value:{x:7,y:7}},{color:"#efcd0d",label:"OPTIMISTIC",value:{x:8,y:7}},{color:"#ecd506",label:"EXCITED",value:{x:9,y:7}}],[{color:"#d01819",label:"ANXIOUS",value:{x:0,y:6}},{color:"#d02919",label:"APPREHENSIVE",value:{x:1,y:6}},{color:"#d1371a",label:"WORRIED",value:{x:2,y:6}},{color:"#d04419",label:"IRRITATED",value:{x:3,y:6}},{color:"#d05018",label:"ANNOYED",value:{x:4,y:6}},{color:"#edb712",label:"PLEASED",value:{x:5,y:6}},{color:"#ecbc11",label:"HAPPY",value:{x:6,y:6}},{color:"#ebc212",label:"FOCUSED",value:{x:7,y:6}},{color:"#eac811",label:"PROUD",value:{x:8,y:6}},{color:"#e9cd0f",label:"THRILLED",value:{x:9,y:6}}],[{color:"#c21f1e",label:"REPULSED",value:{x:0,y:5}},{color:"#c3291e",label:"TROUBLED",value:{x:1,y:5}},{color:"#c4331f",label:"CONCERNED",value:{x:2,y:5}},{color:"#c43a1d",label:"UNEASY",value:{x:3,y:5}},{color:"#c3431e",label:"PEEVED",value:{x:4,y:5}},{color:"#e9b716",label:"PLEASANT",value:{x:5,y:5}},{color:"#e8bb16",label:"JOYFUL",value:{x:6,y:5}},{color:"#e8bd15",label:"HOPEFUL",value:{x:7,y:5}},{color:"#e6c215",label:"PLAYFUL",value:{x:8,y:5}},{color:"#e6c717",label:"BLISSFUL",value:{x:9,y:5}}],[{color:"#072dd6",label:"DISGUSTED",value:{x:0,y:4}},{color:"#1050ca",label:"GLUM",value:{x:1,y:4}},{color:"#1a6bc1",label:"DISAPPOINTED",value:{x:2,y:4}},{color:"#2089b8",label:"DOWN",value:{x:3,y:4}},{color:"#2aa3ae",label:"APATHETIC",value:{x:4,y:4}},{color:"#78bd36",label:"AT EASE",value:{x:5,y:4}},{color:"#77bb30",label:"EASYGOING",value:{x:6,y:4}},{color:"#79b82a",label:"CONTENT",value:{x:7,y:4}},{color:"#77b625",label:"LOVING",value:{x:8,y:4}},{color:"#78b521",label:"FULFILLED",value:{x:9,y:4}}],[{color:"#0c2bb4",label:"PESSIMISTIC",value:{x:0,y:3}},{color:"#1646ac",label:"MOROSE",value:{x:1,y:3}},{color:"#1c5ea4",label:"DICOURAGED",value:{x:2,y:3}},{color:"#21749b",label:"SAD",value:{x:3,y:3}},{color:"#298b95",label:"BORED",value:{x:4,y:3}},{color:"#5db43a",label:"CALM",value:{x:5,y:3}},{color:"#5eb233",label:"SECURE",value:{x:6,y:3}},{color:"#5eaf28",label:"SATISFIED",value:{x:7,y:3}},{color:"#5fac22",label:"GRATEFUL",value:{x:8,y:3}},{color:"#5eab1a",label:"TOUCHED",value:{x:9,y:3}}],[{color:"#142993",label:"ALIENATED",value:{x:0,y:2}},{color:"#1a3d8d",label:"MISERABLE",value:{x:1,y:2}},{color:"#1b5088",label:"LONELY",value:{x:2,y:2}},{color:"#21749b",label:"DISHEARTENED",value:{x:3,y:2}},{color:"#29707b",label:"TIRED",value:{x:4,y:2}},{color:"#43ab3e",label:"RELAXED",value:{x:5,y:2}},{color:"#43a834",label:"CHILL",value:{x:6,y:2}},{color:"#45a226",label:"RESTFUL",value:{x:7,y:2}},{color:"#47a01e",label:"BLESSED",value:{x:8,y:2}},{color:"#479d14",label:"BALANCED",value:{x:9,y:2}}],[{color:"#19297d",label:"DESPONDENT",value:{x:0,y:1}},{color:"#1b3977",label:"DEPRESSED",value:{x:1,y:1}},{color:"#204372",label:"SULLEN",value:{x:2,y:1}},{color:"#23526d",label:"EXHAUSTED",value:{x:3,y:1}},{color:"#27606a",label:"FATIGUED",value:{x:4,y:1}},{color:"#1fa042",label:"MELLOW",value:{x:5,y:1}},{color:"#219a36",label:"THOUGHTFUL",value:{x:6,y:1}},{color:"#239423",label:"PEACEFUL",value:{x:7,y:1}},{color:"#259017",label:"COMFY",value:{x:8,y:1}},{color:"#248c0a",label:"CAREFREE",value:{x:9,y:1}}],[{color:"#1c2763",label:"DESPAIR",value:{x:0,y:0}},{color:"#203161",label:"HOPELESS",value:{x:1,y:0}},{color:"#213a5f",label:"DESOLATE",value:{x:2,y:0}},{color:"#24435c",label:"SPENT",value:{x:3,y:0}},{color:"#254c58",label:"DRAINED",value:{x:4,y:0}},{color:"#009347",label:"SLEEPY",value:{x:5,y:0}},{color:"#008e37",label:"COMPLACENT",value:{x:6,y:0}},{color:"#008723",label:"TRANQUIL",value:{x:7,y:0}},{color:"#058213",label:"COZY",value:{x:8,y:0}},{color:"#027c02",label:"SERENE",value:{x:9,y:0}}]],Y=function(e){var t=e.toggleMoodMeter,l=e.submit,a=Object(r.useState)(null),c=Object(u.a)(a,2),n=c[0],o=c[1],s=function(e){o(e)},i=function(e,t){try{var l=I[9-e][t];return l&&void 0!==l?Object(M.jsx)("div",{onClick:function(){return s(l)},className:"cell-label",children:l.label}):Object(M.jsx)("div",{className:"cell-label",children:"-"})}catch(a){return Object(M.jsx)("div",{className:"cell-label",children:"-"})}};return Object(M.jsxs)(m.a,{className:"pb-2",children:[Object(M.jsxs)(h.a,{lg:"auto",xl:5,className:"mood-meter-container",children:[I.map((function(e,t){return Object(M.jsx)("div",{className:"mood-row pl-2",children:e.map((function(e,t){return Object(M.jsx)("div",{onClick:function(){return s(e)},className:e===n?"mood-cell selected":"mood-cell",style:{backgroundColor:e.color}},"mood-cell-".concat(t))}))},"mood-row-".concat(t))})),Object(M.jsxs)("h5",{className:"text-center",children:[Object(M.jsx)(T.a,{})," Pleasantness ",Object(M.jsx)(T.b,{})]}),Object(M.jsxs)("h5",{className:"text-center energy-label",children:[Object(M.jsx)(T.a,{})," Energy ",Object(M.jsx)(T.b,{})]})]}),Object(M.jsx)(h.a,{className:"text-center d-flex flex-column justify-content-center",children:n?Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"d-flex justify-content-center",children:[i(n.value.y+1,n.value.x-1),i(n.value.y+1,n.value.x),i(n.value.y+1,n.value.x+1)]}),Object(M.jsxs)("div",{className:"d-flex justify-content-center",children:[i(n.value.y,n.value.x-1),Object(M.jsx)("div",{className:"mood-label",children:n.label}),i(n.value.y,n.value.x+1)]}),Object(M.jsxs)("div",{className:"d-flex justify-content-center",children:[i(n.value.y-1,n.value.x-1),i(n.value.y-1,n.value.x),i(n.value.y-1,n.value.x+1)]}),Object(M.jsxs)(f.a,{onClick:function(){l(n),o(null),t()},variant:"primary",className:"mt-4 px-5",children:["Submit ",Object(M.jsx)(C.a,{})]})]}):Object(M.jsx)("div",{children:"Select a cell"})}),Object(M.jsx)(h.a,{xs:12,children:Object(M.jsx)(f.a,{onClick:t,block:!0,variant:"white",children:"Cancel"})})]})},L="M/DD/YY",w=function(e){var t=e.collapsed,l=e.setCollapsed,a=e.theme,c=e.setEntries,n=e.user,o=Object(r.useState)(g()(new Date).format(L)),s=Object(u.a)(o,2),i=s[0],d=s[1],b=Object(r.useState)(""),j=Object(u.a)(b,2),O=j[0],E=j[1],p=Object(r.useState)(!1),D=Object(u.a)(p,2),I=D[0],w=D[1],R=function(e){E(e.target.value)},U=function(){w(!I)},k=function(){var e={date:i,content:O,time:g()(new Date).format("h:mma"),user:n._id};console.log("submit:: toSubmit",e),N.createEntry(e).then((function(e){var t=e.data.output;console.log("submit:: output",t),c((function(e){return[].concat(Object(x.a)(e),[t])}))})).catch((function(e){console.error("submit",e)})),d(g()(new Date).format(L)),E("")};return Object(M.jsx)(m.a,{className:"px-3",children:Object(M.jsx)(h.a,{children:Object(M.jsx)("div",{className:"card pb-0",children:t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"entry-header collapsed",children:[Object(M.jsxs)(v.a.Label,{children:["New Entry ",Object(M.jsx)(T.h,{})]}),Object(M.jsxs)("div",{className:"collapsed-new-input",children:[Object(M.jsx)(v.a.Control,{type:"text",value:O,onChange:R}),Object(M.jsx)(f.a,{onClick:k,className:"input-btn",variant:"primary",children:Object(M.jsx)(C.a,{})})]}),Object(M.jsx)(K,{collapsed:t,setCollapsed:l})]})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"entry-header",children:[Object(M.jsxs)(v.a.Label,{children:["New Entry ",Object(M.jsx)(T.h,{})]}),Object(M.jsxs)("div",{className:"d-flex align-items-center",children:[Object(M.jsxs)(y.a,{className:"new-entry-date-selector",children:[Object(M.jsxs)(y.a.Toggle,{DropdownIndicator:!0,variant:"white",className:"text-secondary",children:["Date of post: ",i]}),Object(M.jsxs)(y.a.Menu,{children:[Object(M.jsx)(S.Calendar,{value:new Date(i),onChange:function(e){console.log("changeDate",e),d(g()(e).format(L))},color:"theme--light"===a?"#004288":"#cb6d56"}),Object(M.jsx)(f.a,{block:!0,variant:"white",onClick:function(){d(g()(new Date).format(L))},children:"Reset"})]})]}),Object(M.jsx)(K,{collapsed:t,setCollapsed:l})]})]}),I?Object(M.jsx)(Y,{toggleMoodMeter:U,submit:function(e){var t={date:i,time:g()(new Date).format("h:mma"),user:n._id,label:e.label,energy:e.value.y,pleasantness:e.value.x};console.log("submitMood:: toSubmit",t),N.createMood(t).then((function(e){var t=e.data.output;console.log("submitMood:: output",t),c((function(e){return[].concat(Object(x.a)(e),[t])}))})).catch((function(e){console.error("submitMood",e)})),d(g()(new Date).format(L)),E("")}}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"new-entry-content",children:[Object(M.jsx)(v.a.Control,{as:"textarea",rows:3,value:O,onChange:R}),Object(M.jsxs)(f.a,{onClick:k,variant:"primary",block:!0,className:"btn-sm form-btn",children:["Submit ",Object(M.jsx)(C.a,{})]})]}),Object(M.jsx)(m.a,{className:"pb-2",children:Object(M.jsx)(h.a,{children:Object(M.jsxs)(f.a,{onClick:U,block:!0,variant:"white",children:["Mood ",Object(M.jsx)(A.a,{size:20,className:"mb-1"})]})})})]})]})})})})},R="M/DD/YY",U=function(e){var t=e.entry,l=e.collapseAllTrigger,a=e.expandAllTrigger,c=e.deleteEntry,n=e.editEntry,o=e.theme,s=Object(r.useState)(!0),i=Object(u.a)(s,2),d=i[0],b=i[1],j=Object(r.useState)(null),x=Object(u.a)(j,2),O=x[0],E=x[1],p=Object(r.useState)(g()(new Date).format(R)),D=Object(u.a)(p,2),N=D[0],C=D[1],A=Object(r.useState)(""),I=Object(u.a)(A,2),Y=I[0],L=I[1],w=function(){E(null),C(g()(new Date).format(R)),L("")};return Object(r.useMemo)((function(){b(!1)}),[a]),Object(r.useMemo)((function(){b(!0)}),[l]),Object(r.useMemo)((function(){!0===d&&w()}),[d]),Object(M.jsx)(m.a,{children:Object(M.jsx)(h.a,{children:Object(M.jsx)("div",{className:"card",children:d?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"entry-header collapsed m-0",children:[Object(M.jsxs)(v.a.Label,{children:[t.time," ",Object(M.jsx)(T.f,{})]}),Object(M.jsx)("div",{className:"entry-content collapsed",children:t.content}),Object(M.jsx)(K,{collapsed:d,setCollapsed:b})]})}):O?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"entry-header",children:[Object(M.jsxs)(v.a.Label,{children:[O.time," ",Object(M.jsx)(T.f,{})]}),Object(M.jsxs)("div",{className:"d-flex align-items-center",children:[Object(M.jsxs)(y.a,{className:"new-entry-date-selector",children:[Object(M.jsxs)(y.a.Toggle,{DropdownIndicator:!0,variant:"white",className:"text-secondary",children:["Date of post: ",N]}),Object(M.jsxs)(y.a.Menu,{children:[Object(M.jsx)(S.Calendar,{value:new Date(N),onChange:function(e){console.log("changeDate",e),C(g()(e).format(R))},color:"theme--light"===o?"#004288":"#cb6d56"}),Object(M.jsx)(f.a,{block:!0,variant:"white",onClick:function(){C(g()(O.date).format(R))},children:"Reset"})]})]}),Object(M.jsx)(K,{collapsed:d,setCollapsed:b})]})]}),Object(M.jsx)("div",{className:"new-entry-content",children:Object(M.jsx)(v.a.Control,{as:"textarea",rows:3,value:Y,onChange:function(e){L(e.target.value)},className:"rounded-borders"})}),Object(M.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[Object(M.jsx)(f.a,{onClick:w,variant:"white",style:{width:100},children:"Cancel"}),Object(M.jsx)(f.a,{onClick:function(){var e={date:N,content:Y};n(O._id,e),w()},variant:"white",style:{width:100},children:"Confirm"})]})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"entry-header",children:[Object(M.jsxs)(v.a.Label,{children:[t.time," ",Object(M.jsx)(T.f,{})]}),Object(M.jsx)(K,{collapsed:d,setCollapsed:b})]}),Object(M.jsx)("div",{className:"entry-content",children:t.content}),Object(M.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[Object(M.jsxs)(f.a,{onClick:function(){return e=t,C(g()(e.date).format(R)),L(e.content),void E(e);var e},variant:"white",style:{width:100},children:["Edit ",Object(M.jsx)(T.i,{className:"mb-1"})]}),Object(M.jsxs)(f.a,{onClick:function(){return c(t._id)},variant:"white",style:{width:100},children:["Delete ",Object(M.jsx)(T.k,{})]})]})]})})})})},k=l(440),P=l(224),F=l(99),_=l(229),H=function(e){var t=e.theme,l=e.moods,a=e.title,c=e.recent,n=Object(r.useState)([]),o=Object(u.a)(n,2),s=o[0],i=o[1];Object(r.useEffect)((function(){d()}),[l]);var d=function(){var e=[];l.forEach((function(t){e.push({label:t.date,energy:t.energy,pleasantness:t.pleasantness,amt:parseInt(g()(t.date).format("YYYYMMDD"))})})),e.sort((function(e,t){return e.amt-t.amt})),c&&e.slice(0,5),console.log("DATA",e),i(e)};return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"text-primary py-3 text-center",children:a}),Object(M.jsxs)("div",{className:"text-left",style:{color:"#308d45",fontSize:14},children:[Object(M.jsx)(T.g,{})," Energy"]}),Object(M.jsxs)("div",{className:"text-left text-primary",style:{fontSize:14},children:[Object(M.jsx)(T.g,{})," Pleasantness"]}),s.length>0&&Object(M.jsxs)(k.a,{width:300,height:200,data:s,margin:{top:5,right:48,left:10,bottom:5},children:[Object(M.jsx)(P.a,{dataKey:"label"}),Object(M.jsx)(F.a,{}),Object(M.jsx)(_.a,{type:"monotone",dataKey:"pleasantness",stroke:"theme--light"===t?"#004288":"#cb6d56",yAxisId:0}),Object(M.jsx)(_.a,{type:"monotone",dataKey:"energy",stroke:"#308d45",yAxisId:1})]})]})},z=l(62),B=function(e){var t=e.entry,l=e.collapseAllTrigger,a=e.expandAllTrigger,c=e.theme,n=e.moods,o=e.deleteMood,s=Object(r.useState)(!0),i=Object(u.a)(s,2),d=i[0],b=i[1],j=function(){var e=!0,l=!0;return t.energy<5&&(e=!1),t.pleasantness<5&&(l=!1),e&&l?Object(M.jsxs)("span",{className:"text-success",children:[t.label," ",Object(M.jsx)(A.a,{size:20})]}):e||l?Object(M.jsxs)("span",{className:"text-primary",children:[t.label," ",Object(M.jsx)(z.d,{size:20})]}):Object(M.jsxs)("span",{className:"text-danger",children:[t.label," ",Object(M.jsx)(z.a,{size:20})]})},x=function(){var e=!0,l=!0;return t.energy<5&&(e=!1),t.pleasantness<5&&(l=!1),e&&l?"Things are looking up! Keep doing what you're doing":e?"Try directing your energy towards things you enjoy.":l?"You may need some rest, or perhaps motivation.":"Spend time with family and friends. Try doing things that make you happy."};return Object(r.useMemo)((function(){b(!1)}),[a]),Object(r.useMemo)((function(){b(!0)}),[l]),Object(M.jsx)(m.a,{children:Object(M.jsx)(h.a,{children:Object(M.jsx)("div",{className:"card",children:d?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"entry-header collapsed m-0",children:[Object(M.jsxs)(v.a.Label,{children:[t.time," ",Object(M.jsx)(T.f,{})]}),Object(M.jsxs)("div",{className:"entry-content collapsed",children:[j()," ",Object(M.jsxs)("span",{className:"ml-2",children:[" - ",x()]})]}),Object(M.jsx)(K,{collapsed:d,setCollapsed:b})]})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"entry-header",children:[Object(M.jsxs)(v.a.Label,{children:[t.time," ",Object(M.jsx)(T.f,{})]}),Object(M.jsx)(K,{collapsed:d,setCollapsed:b})]}),Object(M.jsxs)("div",{className:"entry-content d-flex align-items-center",children:[j()," ",Object(M.jsxs)("span",{className:"ml-2",children:[" - ",x()]})]}),Object(M.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(M.jsx)(H,{theme:c,moods:n,title:"Your Recent Moods",recent:!0})}),Object(M.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(M.jsxs)(f.a,{onClick:function(){return o(t._id)},variant:"white",style:{width:100},children:["Delete ",Object(M.jsx)(T.k,{})]})})]})})})})},G=function(e){var t=e.collapseAllTrigger,l=e.filter,a=e.expandAllTrigger,n=e.entries,o=e.setEntries,s=e.theme,i=e.moods,d=e.setMoods,b=Object(r.useState)([]),j=Object(u.a)(b,2),O=j[0],m=j[1];Object(r.useEffect)((function(){h()}),[n]);var h=function(){var e=[];n.forEach((function(t,l){e.includes(t.date)||e.push(t.date)})),e.sort((function(e,t){return g()(t,["MM/DD/YYYY"]).format("YYYYMMDD")-g()(e,["MM/DD/YYYY"]).format("YYYYMMDD")})),m(e)},f=function(e){var t=g()(l.startDate).isBefore(l.endDate)?l.startDate:l.endDate,a=g()(l.startDate).isAfter(l.endDate)?l.startDate:l.endDate;return!(!g()(e).isSameOrAfter(t)||!g()(e).isSameOrBefore(a))},v=function(e){console.log("deleteEntry:: deleting",e),N.deleteEntry(e).then((function(e){console.log("deleteEntry:: res",e),console.log("deleteEntry:: output",e.data.output),o((function(t){return t.filter((function(t){return t._id!==e.data.output}))})),d((function(t){return t.filter((function(t){return t._id!==e.data.output}))}))})).catch((function(e){console.error("deleteEntry",e)}))},y=function(e){console.log("deleteMood:: deleting",e),N.deleteMood(e).then((function(e){console.log("deleteMood:: res",e),console.log("deleteMood:: output",e.data.output),o((function(t){return t.filter((function(t){return t._id!==e.data.output}))})),d((function(t){return t.filter((function(t){return t._id!==e.data.output}))}))})).catch((function(e){console.error("deleteEntry",e)}))},E=function(e,t){console.log("editEntry:: editing",e),N.updateEntry(e,t).then((function(e){console.log("editEntry:: res",e),console.log("editEntry:: output",e.data.output),o((function(t){return[].concat(Object(x.a)(t.filter((function(t){return t._id!==e.data.output._id}))),[e.data.output])}))}))};return Object(r.useMemo)((function(){h()}),[n]),Object(M.jsx)("div",{children:O.filter((function(e){return f(e)})).length>0?O.filter((function(e){return f(e)})).map((function(e,l){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{className:"date-header",children:g()(e).format("ll")}),n.filter((function(t){return t.date===e})).sort((function(e,t){return g()(t.time,["h:mma"]).format("Hmm")-g()(e.time,["h:mma"]).format("Hmm")})).map((function(e,l){return e.content?Object(M.jsx)(c.Entry,{entry:e,collapseAllTrigger:t,expandAllTrigger:a,deleteEntry:v,editEntry:E,theme:s},"entry-".concat(l)):Object(M.jsx)(c.MoodEntry,{entry:e,collapseAllTrigger:t,expandAllTrigger:a,deleteMood:y,editEntry:E,theme:s,moods:i},"entry-".concat(l))}))]},"year-".concat(l))})):Object(M.jsx)("div",{className:"card py-5 text-center",children:O.length>0?Object(M.jsx)("div",{children:"You have no entries in this date range"}):Object(M.jsx)("div",{children:"You have no entries yet"})})})},K=function(e){var t=e.collapsed,l=e.setCollapsed,a=function(){l(!t)};return t?Object(M.jsx)(T.d,{onClick:a,className:"collapse-btn"}):Object(M.jsx)(T.e,{onClick:a,className:"collapse-btn"})},V=l(436),W=l(434),X=function(e){var t=e.setCollapseAllTrigger,l=e.setExpandAllTrigger,a=e.filter,c=e.setFilter,n=e.initialFilter,o=e.theme;Object(r.useEffect)((function(){console.log("FILTER",a)}),[a]);var s=[{icon:Object(M.jsx)(T.e,{size:24}),action:function(){return t((function(e){return!e}))},label:"Collapse All",size:3},{icon:Object(M.jsx)(T.d,{size:24}),action:function(){return l((function(e){return!e}))},label:"Expand All",size:3},{icon:Object(M.jsxs)("div",{style:{fontSize:14},className:"text-secondary",children:[g()(g()(a.startDate).isBefore(a.endDate)?a.startDate:a.endDate).format("M/DD/YY")," - ",g()(g()(a.startDate).isAfter(a.endDate)?a.startDate:a.endDate).format("M/DD/YY"),Object(M.jsx)(T.c,{size:24,className:"mb-1 ml-2 text-primary"})]}),label:"Filter Entries",dropdown:[{label:Object(M.jsx)(S.DateRange,{ranges:[a],onChange:function(e){c(e.filter)},rangeColors:["theme--light"===o?"#004288":"#cb6d56"]})},{label:Object(M.jsx)(f.a,{block:!0,variant:"white",onClick:function(){c(n)},children:"Reset"})}],size:null}];return Object(M.jsx)(m.a,{className:"px-3 justify-content-between",children:s.map((function(e,t){return e.dropdown?Object(M.jsx)(h.a,{lg:e.size,children:Object(M.jsx)(V.a,{placement:"top",overlay:Object(M.jsx)(W.a,{id:"tool-tooltip-".concat(t),children:e.label}),children:Object(M.jsxs)(y.a,{children:[Object(M.jsx)(y.a.Toggle,{DropdownIndicator:!0,variant:"clear",className:"dropdown-card-btn",style:{width:"100%"},children:Object(M.jsx)("div",{className:"card py-2 card-btn",onClick:e.action,children:e.icon})}),Object(M.jsx)(y.a.Menu,{children:e.dropdown.map((function(e,t){return Object(M.jsx)("div",{onClick:e.action?e.action:null,children:e.label},"tool-item-".concat(t))}))})]})})},"tool-".concat(t)):e.action?Object(M.jsx)(h.a,{lg:e.size,children:Object(M.jsx)(V.a,{placement:"top",overlay:Object(M.jsx)(W.a,{id:"tool-tooltip-".concat(t),children:e.label}),children:Object(M.jsx)("div",{className:"card py-2 card-btn",onClick:e.action,children:e.icon})})},"tool-".concat(t)):Object(M.jsx)(M.Fragment,{})}))})},J=l(225),Z={startDate:new Date,endDate:new Date(g()().subtract(3,"y")),key:"filter"},Q=function(e){var t=e.toggleTheme,l=e.theme,n=e.signOut,o=e.user,s=Object(r.useState)(!0),i=Object(u.a)(s,2),d=i[0],b=i[1],j=Object(r.useState)(!1),v=Object(u.a)(j,2),y=v[0],E=v[1],p=Object(r.useState)(!1),D=Object(u.a)(p,2),N=D[0],S=D[1],C=Object(r.useState)(Z),A=Object(u.a)(C,2),I=A[0],Y=A[1],L=Object(r.useState)([]),w=Object(u.a)(L,2),R=w[0],U=w[1],k=Object(r.useState)([]),P=Object(u.a)(k,2),F=P[0],_=P[1];return Object(r.useEffect)((function(){console.log("User",o),o&&U([].concat(Object(x.a)(o.entries),Object(x.a)(o.moods)))}),[o]),Object(r.useMemo)((function(){R&&R.length>0&&(R.sort((function(e,t){return g()(t.date+t.time,["MM/DD/YYYYh:mm a"]).format("YYYYMMDDHHmm")-g()(t.date+t.time,["MM/DD/YYYYh:mm a"]).format("YYYYMMDDHHmm")})),_(R.filter((function(e){return e.hasOwnProperty("energy")}))))}),[R]),Object(r.useMemo)((function(){b(!0)}),[y]),Object(M.jsx)(O.a,{fluid:!0,children:Object(M.jsxs)(m.a,{className:"max-vh",children:[Object(M.jsxs)(h.a,{lg:3,className:"side-menu d-none d-lg-block",children:[Object(M.jsxs)("div",{className:"themed-underline text-center",children:[Object(M.jsx)("h1",{children:"Smart Diary"}),Object(M.jsxs)("h5",{children:["Property of ",o.nickname]})]}),Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(M.jsx)("div",{className:"text-center mt-4",children:"theme--light"===l?Object(M.jsx)(f.a,{variant:"light",block:!0,onClick:t,children:Object(M.jsx)(T.j,{className:"text-warning",size:40})}):Object(M.jsx)(f.a,{variant:"light",block:!0,onClick:t,children:Object(M.jsx)(J.a,{className:"text-primary",size:40})})}),F.length>0&&Object(M.jsx)(f.a,{variant:"light",className:"mt-3",children:Object(M.jsx)(a.Moods,{theme:l,moods:F,title:g()(new Date).format("YYYY")+" Moods"})}),Object(M.jsxs)(f.a,{onClick:n,variant:"light",block:!0,className:"text-primary mt-3 py-2",children:["Sign Out ",Object(M.jsx)(z.c,{size:25})]})]})]}),Object(M.jsx)(h.a,{xs:12,className:"d-lg-none",children:Object(M.jsxs)("div",{className:"themed-underline text-center mt-4",children:[Object(M.jsx)("h1",{children:"Smart Diary"}),Object(M.jsxs)("h5",{children:["Property of ",o.nickname]})]})}),Object(M.jsxs)(h.a,{className:"main-content",children:[Object(M.jsx)(c.NewEntry,{collapsed:d,setCollapsed:b,setEntries:U,theme:l,user:o}),Object(M.jsx)(c.ToolBar,{setCollapseAllTrigger:E,setExpandAllTrigger:S,filter:I,setFilter:Y,initialFilter:Z,theme:l}),Object(M.jsx)("div",{className:d?"scrollable-content collapsed px-3":"scrollable-content px-3",children:Object(M.jsx)(c.Entries,{collapseAllTrigger:y,expandAllTrigger:N,filter:I,moods:F,setMoods:_,entries:R,setEntries:U,theme:l})})]})]})})},q=function(e){var t=e.signIn;return Object(M.jsx)(O.a,{fluid:!0,children:Object(M.jsx)(m.a,{className:"max-vh justify-content-center align-items-center",children:Object(M.jsx)(h.a,{md:5,children:Object(M.jsxs)("div",{className:"card py-5",children:[Object(M.jsx)("div",{className:"themed-underline text-center",children:Object(M.jsx)("h1",{children:"Smart Diary"})}),Object(M.jsx)("div",{className:"mt-5 px-5 mx-5",children:Object(M.jsxs)(f.a,{onClick:t,block:!0,variant:"primary",className:"py-3",children:["Sign In ",Object(M.jsx)(z.b,{size:25})]})})]})})})})},$=l(119);var ee=function(){var e=Object($.b)(),t=e.loginWithRedirect,l=e.logout,a=e.user,c=Object(r.useState)("theme--light"),s=Object(u.a)(c,2),i=s[0],x=s[1],O=Object(r.useState)(null),m=Object(u.a)(O,2),h=m[0],f=m[1];Object(r.useEffect)((function(){a&&E()}),[a]);var v=function(){"theme--dark"===i?(x("theme--light"),N.updateUser(h._id,{theme:"theme--light"}).then((function(e){console.log("updateUser:: res",e)})).catch((function(e){console.error("updateUser",e)}))):(x("theme--dark"),N.updateUser(h._id,{theme:"theme--dark"}).then((function(e){console.log("updateUser:: res",e)})).catch((function(e){console.error("updateUser",e)})))},y=function(){l()},E=function(){N.getUser(a.email).then((function(e){console.log("connectUserToDb:: res",e),e.data.output?(x(e.data.output.theme),f(e.data.output)):g()})).catch((function(e){console.error("connectUserToDb",e)}))},g=function(){N.createUser({email:a.email}).then((function(e){console.log("createUser:: res",e),E()})).catch((function(e){console.error("createUser",e)}))};return Object(M.jsx)("div",{className:i+" App",children:a?h?Object(M.jsx)(b.a,{children:Object(M.jsx)(j.c,{children:Object(M.jsx)(j.a,{path:"/",exact:!0,render:function(e){return Object(M.jsx)(n.Main,Object(d.a)(Object(d.a)({},e),{},{theme:i,toggleTheme:v,user:Object(d.a)(Object(d.a)({},a),h),signOut:y}))}})})}):Object(M.jsx)(o.Loading,{}):Object(M.jsx)(o.Main,{signIn:t})})},te=function(e){e&&e instanceof Function&&l.e(3).then(l.bind(null,441)).then((function(t){var l=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,o=t.getTTFB;l(e),a(e),c(e),n(e),o(e)}))},le=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_DOMAIN,ae=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_CLIENT_ID;i.a.render(Object(M.jsx)($.a,{domain:le,clientId:ae,redirectUri:window.location.origin,children:Object(M.jsx)(ee,{})}),document.getElementById("root")),te()}},[[421,1,2]]]);
//# sourceMappingURL=main.910b0ebb.chunk.js.map